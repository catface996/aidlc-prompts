# **AI驱动的智能运维：基于自顶向下与分而治之策略的提示词工程指南**

## **1\. 引言：构建AI运维专家的认知框架**

在数字化转型的浪潮中，IT系统的复杂性呈指数级增长。微服务架构、容器化编排以及混合云环境的普及，使得传统的运维（Operations and Maintenance, O\&M）模式面临巨大挑战。故障排查不再是单一维度的线性分析，而是需要在海量、异构、动态的数据中寻找相关性和因果性。生成式人工智能（Generative AI）和大语言模型（LLM）的出现为运维领域带来了革命性的机遇，但要让AI真正成为能够解决复杂问题的“数字SRE（Site Reliability Engineer）”，仅仅依赖简单的问答是远远不够的。我们需要通过精密的**提示词工程（Prompt Engineering）**，将资深SRE的思维模型——即\*\*“自顶向下（Top-Down）”**的宏观视野与**“分而治之（Divide and Conquer）”\*\*的微观解剖能力——植入AI的认知过程中 1。

本报告旨在提供一份详尽的研究与实践指南，指导如何构建能够驱动AI完成复杂运维工作的提示词体系。该体系覆盖云基础设施（网络、计算、存储）、核心中间件（数据库、缓存、消息队列）以及上层业务应用与链路报表。我们将深入剖析每个技术领域的理论依据，结合故障排查的最佳实践，设计出能够引导AI进行逻辑严密、层层递进分析的提示词策略。这不仅是一份技术文档，更是一套将人类专家经验转化为AI可执行逻辑的认知架构 3。

### **1.1 运维排查的认识论：从直觉到算法**

传统的故障排查往往依赖专家的直觉，即所谓的“射击法（Shoot-from-the-hip）” 2。然而，在面对从未见过的复杂故障时，直觉往往失效。科学的排查方法论是基于\*\*假设-演绎（Hypothetico-deductive）\*\*模型的：观察现象，提出假设，设计实验，验证或推翻假设 6。

AI缺乏人类的直觉，但具备极强的逻辑推理和数据关联能力。因此，提示词设计的核心在于引导AI遵循结构化的排查路径：

1. **自顶向下（Top-Down）**：从用户感知（应用层/业务层）出发，确认故障范围。如果业务层报错，首先检查业务逻辑；如果业务层无响应，则下钻至网络或基础设施层 1。这种策略能迅速过滤掉底层噪音，聚焦于直接影响用户体验的问题。  
2. **分而治之（Divide and Conquer）**：利用二分查找的思想，将系统切分为若干独立的子系统（如网络vs应用，数据库vs缓存）。通过关键测试（如Ping测试、Telnet测试）迅速排除一半的可能性，从而收敛故障域 5。

### **1.2 提示词设计的理论基础：思维链与思维树**

为了让AI执行上述策略，必须运用高级提示词技术：

* **思维链（Chain of Thought, CoT）**：要求AI在给出结论前，显式地输出推理步骤。例如，“首先检查CPU使用率，发现主要由用户进程占用，排除内核问题；接着检查该进程的堆栈……” 9。这不仅提高了结论的准确性，也使得推理过程可被人类审计。  
* **思维树（Tree of Thoughts, ToT）**：允许AI同时探索多条假设路径。例如，“路径A：假设是网络丢包；路径B：假设是数据库锁等待。根据当前日志，路径A的可能性较低，因为Ping值正常；路径B可能性较高，因为出现了Lock Wait Timeout报错。因此深入路径B……” 11。

本报告将基于这些理论，针对不同技术栈构建具体的提示词模块。

## ---

**2\. 云基础设施层：构建坚实的数字底座**

云基础设施是所有上层应用的物理载体。针对这一层的排查，提示词必须引导AI关注硬件资源的物理极限与虚拟化层的调度机制。

### **2.1 网络基础设施：数据的神经网络**

网络故障因其不可见性和瞬态性，往往是排查的难点。AI必须被训练成一名精通协议栈的“网络侦探”。

#### **2.1.1 理论依据：OSI七层模型与TCP/IP协议**

OSI模型是网络排查的地图。提示词应指导AI严格按照分层模型进行诊断，避免跨层跳跃导致的误判 13。

* **物理层与数据链路层（L1/L2）**：关注物理连接、MAC地址冲突、ARP表项。在云环境中，这通常表现为虚拟网卡（ENI）的丢包计数或VPC流日志中的拒绝记录 15。  
* **网络层（L3）**：关注IP路由、ICMP可达性。mtr（My Traceroute）是此层的核心工具，能揭示路径上的每一跳延迟与丢包 16。  
* **传输层（L4）**：关注TCP握手、端口状态、窗口滑动。TCP的三次握手（SYN, SYN-ACK, ACK）是判断防火墙或安全组配置的关键依据 18。

#### **2.1.2 工作方案：丢包与延迟的精准定位**

当面对“网络卡顿”的模糊描述时，AI需执行以下逻辑链：

1. **区分控制平面与数据平面丢包**：利用mtr数据，如果某一跳显示丢包，但其后所有跳均正常，提示词应引导AI将其判定为“控制平面限速（Control Plane Policing）”，属于误报；如果丢包一直延续到目标端，则为真实丢包 17。  
2. **TCP状态机分析**：利用tcpdump或netstat数据。如果看到大量的SYN\_SENT但无回应，提示词应引导AI推断为“安全组/防火墙拦截”或“目标端口未监听”；如果看到CLOSE\_WAIT堆积，则应推断为“应用层代码未正确关闭连接” 19。

#### **2.1.3 最佳实践提示词模板**

**角色设定**：

你是云网络架构专家，精通TCP/IP协议栈、VPC网络拓扑及Linux内核网络参数。

**任务目标**：

分析给定的网络诊断数据（mtr报告、tcpdump片段、安全组规则），采用**分而治之**策略，定位应用服务器与数据库之间的连接超时原因。

**分析指引**：

1. **L3层分析（MTR）**：检查mtr报告。寻找丢包率（Loss%）的起始跳数。  
   * *推理逻辑*：若Loss%在中间某跳突增并持续至终点，判定为链路拥塞或路由黑洞。若仅在最后一跳出现100%丢包，检查目标端ICMP限速配置 16。  
2. **L4层分析（TCP Dump）**：分析抓包数据中的TCP标志位。  
   * *推理逻辑*：寻找握手序列。若只有SYN包发出，无SYN-ACK回应，且MTR显示L3可达，则强烈怀疑安全组（Security Group）入站规则或网络ACL（NACL）拒绝了流量 13。  
3. **应用层关联**：检查应用日志中的Socket错误代码。  
   * *推理逻辑*：Connection refused对应端口未监听或RST包；Connection timed out对应握手无响应。

| 现象 | 可能原因 | 验证命令 | 提示词关键点 |
| :---- | :---- | :---- | :---- |
| MTR中间跳丢包且延续 | 骨干网拥塞/硬件故障 | mtr \-r \-c 100 | 强调“丢包延续性（Persistence of Loss）”的判断 |
| MTR仅单跳丢包 | 路由器ICMP限速 | mtr | 指导AI忽略非延续性丢包 |
| TCP SYN发无回 | 防火墙/安全组拦截 | tcpdump \-nn port X | 指导AI寻找“单向SYN”特征 |
| TCP RST重置 | 端口未开启/WAF拦截 | tcpdump | 指导AI区分Timeout与Refused的区别 |

### **2.2 计算基础设施：系统的动力核心**

计算资源的排查核心在于区分“资源饱和”与“资源争抢”。

#### **2.2.1 理论依据：USE方法论与CPU状态**

USE（Utilization, Saturation, Errors）方法论是分析计算资源的黄金法则 21。提示词需引导AI深入解读CPU的各个状态时间：

* **User%**：用户态计算，代表业务逻辑负载。  
* **Sys%**：内核态计算，过高通常意味着频繁的系统调用或上下文切换。  
* **Iowait%**：CPU空闲但在等待I/O，这实际上是存储层的反压（Backpressure）。  
* **Steal%**：在虚拟化环境中，代表宿主机（Hypervisor）强制剥夺了当前VM的CPU时间片，通常意味着“吵闹的邻居（Noisy Neighbor）”或CPU积分耗尽（如AWS T系列实例） 22。

#### **2.2.2 工作方案：负载与利用率的辩证分析**

Load Average（平均负载）高并不一定意味着CPU忙。提示词必须教导AI区分以下场景：

* **场景A：Load高，CPU Util高** \-\> 计算密集型任务堆积。  
* **场景B：Load高，CPU Util低** \-\> 进程处于不可中断睡眠状态（D状态），通常由磁盘I/O阻塞或NFS挂死引起 24。

#### **2.2.3 最佳实践提示词模板**

**角色设定**：

你是Linux内核性能调优专家，擅长利用USE方法论分析系统瓶颈。

**任务目标**：

根据提供的top、vmstat和dmesg输出，分析服务器响应变慢的根本原因。

**分析指引**：

1. **利用率（Utilization）分析**：检查%user与%sys的比例。  
   * *推理逻辑*：若%sys超过30%，检查上下文切换（Context Switches）速率（vmstat的cs列）。如果极高，怀疑是大量线程争抢锁或频繁的网络包处理 26。  
2. **饱和度（Saturation）分析**：对比Load Average与CPU核数。  
   * *推理逻辑*：若Load远超核数，检查进程状态。寻找状态为D（Disk Sleep）的进程。  
3. **窃取率（Steal）分析**：检查%st。  
   * *推理逻辑*：若%st \> 10%，说明宿主机资源紧张或积分耗尽。此时应用层优化无效，需建议迁移实例或开启T系列无限模式 22。  
4. **分而治之**：如果发现%iowait高，立即停止计算层分析，转而调用“存储层排查模块”。

### **2.3 存储基础设施：数据的持久化基石**

存储性能问题通常表现为IOPS（每秒读写次数）或吞吐量（Throughput）的瓶颈，进而导致延迟（Latency）飙升。

#### **2.3.1 理论依据：I/O排队论与突发机制**

提示词需涵盖以下核心概念：

* **IOPS vs 吞吐量**：随机读写看重IOPS，顺序读写（如日志、备份）看重吞吐量。两者通常呈反比关系 27。  
* **队列深度（Queue Depth）**：这是判断磁盘饱和的最直接指标。根据Little定律，当请求到达率超过处理率，队列长度将无限增长。对于SSD，队列深度持续超过1（或每1000 IOPS对应1个深度）通常意味着延迟增加 29。  
* **突发余额（Burst Balance）**：云盘（如AWS gp2）通常基于令牌桶算法。当积分耗尽，性能会被限流至基线水平，导致延迟瞬间增加数倍 31。

#### **2.3.2 工作方案：I/O瓶颈的精准定位**

AI需被指导执行以下检查流程：

1. **容量检查**：使用df \-h排除空间满导致的写入失败。  
2. **性能饱和检查**：使用iostat \-x查看%util和avgqu-sz。如果%util接近100%，说明物理链路饱和；如果avgqu-sz高但%util不高，说明后端存储系统（如EBS）在限流 24。  
3. **云特性检查**：检查云监控指标中的BurstBalance和VolumeThroughputPercentage。

#### **2.3.3 最佳实践提示词模板**

**角色设定**：

你是存储系统工程师，精通块存储原理及云存储特性。

**任务目标**：

分析数据库服务器的磁盘I/O性能，确定是否为查询变慢的根本原因。

**分析指引**：

1. **宏观指标分析**：解读iostat数据。  
   * *推理逻辑*：计算当前的IOPS（r/s \+ w/s）。将其与云盘类型的最大IOPS限制进行对比。如果接近上限，判定为**规格瓶颈**。  
2. **微观延迟分析**：检查await（平均等待时间）与svctm（服务时间）。  
   * *推理逻辑*：若await远大于svctm，说明大量时间耗费在队列中，这是**饱和**的典型特征。  
3. **云特性关联**：  
   * *推理逻辑*：如果使用的是gp2云盘，且当前性能骤降，询问BurstBalance指标。若该值为0，判定为**积分耗尽**，建议升级磁盘类型（如gp3或io1） 30。

## ---

**3\. 中间件层：系统的神经网络与中枢**

中间件连接了应用与数据，是故障的高发区。针对这一层，提示词需引导AI关注并发模型、锁机制及数据一致性。

### **3.1 数据库（以MySQL为例）：事务与锁的迷宫**

数据库性能问题通常归结为两类：查询慢（资源消耗大）或被阻塞（锁等待）。

#### **3.1.1 理论依据：ACID与锁机制**

AI需要理解事务隔离级别（Isolation Level）对锁的影响。

* **死锁（Deadlock）**：两个事务互相持有对方需要的锁，形成环路。InnoDB引擎会主动回滚其中一个事务 34。  
* **阻塞（Blocking）**：一个长事务持有锁，导致后续事务在队列中等待。这会导致连接数飙升，最终拖垮数据库 35。  
* **间隙锁（Gap Lock）与临键锁（Next-Key Lock）**：在Repeatable Read级别下，为了防止幻读，InnoDB会锁定索引区间，这常是导致意外死锁的原因。

#### **3.1.2 工作方案：锁链分析与查询优化**

提示词应引导AI构建“锁链（Blocking Chain）”视图，找到链头的会话（Head Blocker）。

#### **3.1.3 最佳实践提示词模板**

**角色设定**：

你是资深DBA，精通MySQL InnoDB引擎内核及SQL调优。

**任务目标**：

分析SHOW ENGINE INNODB STATUS输出及慢查询日志，解决数据库响应超时问题。

**分析指引**：

1. **死锁分析**：提取LATEST DETECTED DEADLOCK片段。  
   * *推理逻辑*：识别事务A和事务B分别持有什么锁（HOLDING）以及在等待什么锁（WAITING）。指出涉及的表和索引。分析是记录锁（Record Lock）还是间隙锁（Gap Lock）。  
2. **阻塞链分析**：检查进程列表。  
   * *推理逻辑*：寻找State不为Sleep且Time值巨大的会话。这通常是“罪魁祸首”。如果该会话处于Sending data状态，说明是慢查询；如果处于Waiting for table metadata lock，说明有DDL操作未完成 36。  
3. **查询优化建议**：针对慢SQL，要求输出EXPLAIN分析思路。  
   * *推理逻辑*：关注type列。如果是ALL（全表扫描），建议添加索引；如果是index但rows很大，建议优化联合索引顺序（最左前缀原则） 37。

### **3.2 缓存（以Redis为例）：速度与一致性的平衡**

缓存故障往往导致数据库瞬间崩溃（雪崩效应），提示词需重点关注流量模式的突变。

#### **3.2.1 理论依据：三大失效模式**

AI必须能精准区分以下概念 38：

* **缓存穿透（Penetration）**：查询不存在的数据，请求直击DB。通常由恶意攻击或代码Bug引起。  
* **缓存击穿（Breakdown）**：热点Key过期，并发请求瞬间击穿至DB。  
* **缓存雪崩（Avalanche）**：大量Key同时过期，导致DB压力骤增。

#### **3.2.2 工作方案：流量特征识别**

* **穿透特征**：Redis命中率骤降，DB空查增多。  
* **击穿特征**：单一Key的QPS消失，DB对应行锁竞争激烈。  
* **雪崩特征**：Redis内存占用正常，但DB整体负载飙升。

#### **3.2.3 最佳实践提示词模板**

**角色设定**：

你是高并发架构师，专注于缓存系统设计与故障治理。

**任务目标**：

诊断Redis重启后数据库CPU飙升至100%的故障原因，并给出解决方案。

**分析指引**：

1. **模式匹配**：询问Redis的expired\_keys指标在故障点的变化。  
   * *推理逻辑*：如果expired\_keys在故障时刻激增，且DB负载随之上升，判定为**缓存雪崩**。  
   * *解决方案*：建议在过期时间（TTL）上增加随机抖动（Jitter），避免集体过期 38。  
2. **热点分析**：询问是否有单一Key的高并发访问日志。  
   * *推理逻辑*：如果发现特定Key（如热门商品ID）请求量巨大且不在缓存中，判定为**缓存击穿**。  
   * *解决方案*：建议使用互斥锁（Mutex Lock）或逻辑过期策略（Logical Expiration）。  
3. **穿透防御**：  
   * *解决方案*：若存在大量非法Key查询，建议实施布隆过滤器（Bloom Filter）或缓存空对象。

### **3.3 消息队列（以Kafka为例）：异步解耦的隐患**

Kafka的排查重点在于消费滞后（Lag）与再平衡（Rebalance）。

#### **3.3.1 理论依据：消费组协议**

* **Lag**：生产速度 \> 消费速度。会导致数据实时性下降。  
* **Rebalance**：当消费者加入/退出或分区变动时触发。频繁的Rebalance（Stop-the-World）会严重影响吞吐量 39。  
* **心跳机制**：消费者需在session.timeout.ms内发送心跳，并在max.poll.interval.ms内处理完一批消息。否则会被协调者踢出，触发Rebalance。

#### **3.3.2 最佳实践提示词模板**

**角色设定**：

你是消息中间件专家，精通Kafka消费组协议与Broker调优。

**任务目标**：

解决Kafka消费者频繁重平衡导致的消息积压问题。

**分析指引**：

1. **日志分析**：在消费者日志中搜索RebalanceInProgress或Member removed。  
2. **原因推断**：  
   * *推理逻辑*：如果日志显示“poll timeout”或“heartbeat missing”，检查业务处理逻辑耗时是否超过了max.poll.interval.ms。  
   * *分而治之*：如果是处理太慢，建议减小max.poll.records（减少单次拉取量）或增大超时阈值；如果是网络抖动导致心跳丢失，建议增加session.timeout.ms 40。  
3. **积压治理**：  
   * *推理逻辑*：如果无Rebalance但Lag持续增加，说明消费能力不足。建议增加分区数（Partitions）并横向扩展消费者实例，或优化下游处理逻辑。

## ---

**4\. 业务应用系统与业务链路报表：透视业务流**

在解决了底层和中间件问题后，排查进入应用逻辑层。此时，分布式追踪（Distributed Tracing）与业务日志是核心工具。

### **4.1 业务链路报表：全链路可观测性**

#### **4.1.1 理论依据：Trace与Span**

分布式追踪系统（如Jaeger, SkyWalking）将一次用户请求标记为一个TraceID，请求在各服务间的调用片段标记为SpanID 41。

* **关键路径（Critical Path）**：决定总耗时的路径。AI需识别哪一个Span是导致整体延迟的短板。  
* **Span Kind**：区分Client（调用方）与Server（服务方），用于界定网络耗时。

#### **4.1.2 工作方案：瓶颈定位**

提示词需引导AI分析瀑布图（Waterfall Chart）：

1. **长Span识别**：找出自身耗时（Duration \- Children Duration）最长的Span。  
2. **Gap分析**：Span之间的空白时间通常代表网络传输或GC停顿。  
3. **错误传播**：追踪HTTP 500错误的源头Span，而非仅仅关注报错的上层服务 43。

### **4.2 业务逻辑排查：数据一致性与ETL**

#### **4.2.1 理论依据：数据完整性校验**

对于报表错误或ETL（Extract, Transform, Load）失败，排查重点在于数据的一致性与完整性 44。

#### **4.2.2 最佳实践提示词模板**

**角色设定**：

你是业务系统分析师及数据工程师，擅长全链路追踪分析与数据质量治理。

**任务目标**：

分析订单创建接口延迟高的问题，并排查BI报表中订单数据缺失的原因。

**分析指引**：

1. **链路追踪分析**：  
   * *推理逻辑*：根据TraceID分析调用链。找到耗时占比最高的Span。如果是数据库调用Span长，关联至数据库排查模块；如果是外部API调用长，检查第三方依赖。  
   * *异常检测*：检查是否有N+1查询问题（循环中频繁调用DB）。  
2. **ETL数据一致性校验**：  
   * *自顶向下*：从报表缺失的记录开始。  
   * *推理逻辑*：检查ETL作业日志。对比源端（业务库）与目标端（数仓）的记录数（Count Check）。  
   * *深入分析*：如果记录数一致但字段为空，检查转换逻辑（Transform）中的映射规则或空值处理策略；如果记录缺失，检查增量抽取的时间戳边界是否漏掉了数据 46。

## ---

**5\. 综合提示词框架：SRE指挥官**

基于上述所有模块，我们构建一个通用的、模块化的“SRE指挥官”提示词框架。用户可直接使用此框架引导AI进行端到端的故障排查。

### **5.1 核心系统提示词（System Prompt）**

# **Role Definition**

你是一位拥有10年以上经验的首席SRE专家（Principal SRE）。你精通Linux内核、TCP/IP网络、分布式系统（Kubernetes, Kafka, Redis, MySQL）及微服务架构。你的思维方式是严谨的、基于证据的、结构化的。你严格遵循“科学排查法”：观察现象 \-\> 提出假设 \-\> 验证假设 \-\> 得出结论。

# **Operational Strategy**

你必须采用 **“自顶向下（Top-Down）”** 与 **“分而治之（Divide and Conquer）”** 的策略来解决用户的问题：

1. **Triage (Top-Down)**: 首先分析用户感知的症状（黄金指标：延迟、流量、错误、饱和度）。界定故障的业务影响范围。  
2. **Divide**: 通过二分法隔离故障组件。是网络不通？是基础设施过载？还是代码逻辑错误？利用关键测试（如Ping, Telnet, Curl）迅速排除无关层级。  
3. **Conquer (Bottom-Up Verification)**: 一旦锁定嫌疑组件，深入分析其底层指标（如系统调用、锁等待图、TCP重传率）以确认根本原因。

# **Response Format Guidelines**

对于每一次分析，你必须输出以下结构：

1. **情况摘要 (Situation Summary)**: 用简练的语言重述问题上下文。  
2. **假设树 (Hypothesis Tree)**: 列出所有可能的根本原因，并按可能性排序（使用思维树ToT技巧）。  
3. **排查行动计划 (Investigation Plan)**: 列出具体的验证命令（CLI, SQL）或需要检查的监控面板。解释*为什么要检查这个指标*（理论依据）。  
4. **修复建议 (Remediation)**: 分为“止血方案（短期）”和“根治方案（长期）”。

# **Constraints**

* 不要猜测。如果缺乏关键数据（如缺乏日志、缺乏mtr报告），明确要求用户提供，并解释需要该数据的理由。  
* 严谨区分“现象（Symptom）”与“原因（Cause）”。高CPU是现象，死锁是原因。  
* 使用专业术语（如"Head-of-Line Blocking", "Thundering Herd", "Backpressure"）。

### **5.2 场景化调用示例**

用户在提供具体问题时，只需追加特定的场景描述，AI即可调用相应的内部知识模块。

**示例输入**：

“我的电商网站在促销期间，用户反馈下单接口超时，后台监控显示数据库CPU 100%。”

**AI预期执行路径（基于提示词框架）**：

1. **Top-Down分析**：确认是全站超时还是仅下单接口。下单接口涉及写操作，重点关注DB。  
2. **Divide逻辑**：  
   * *假设A*：Web服务器资源耗尽？（检查Web层CPU \-\> 假设用户未提及，暂后置）  
   * *假设B*：数据库层瓶颈？（用户提及DB CPU 100% \-\> **锁定DB层**）  
3. **Conquer深入**：  
   * 进入**数据库排查模块**。  
   * *假设B1*：慢查询导致全表扫描消耗CPU？（建议查Slow Query Log）  
   * *假设B2*：死锁导致事务回滚与重试风暴？（建议查InnoDB Status）  
   * *假设B3*：缓存失效导致流量击穿？（关联缓存模块：建议查Redis命中率与过期Key）  
4. **输出计划**：要求用户提供SHOW FULL PROCESSLIST快照与Redis监控图表。

## ---

**6\. 结论**

通过本文构建的提示词体系，我们实际上是将SRE的专业知识编码为了一套AI可理解、可执行的逻辑程序。从底层的物理网络到上层的业务逻辑，**自顶向下**的视角保证了排查方向的正确性，**分而治之**的策略保证了排查效率的最大化。

在实际应用中，这套提示词不仅能帮助解决具体的故障，还能作为一种“数字化导师”，通过展示AI的推理过程（Chain of Thought），反向教育初级运维人员，提升团队整体的技术素养。随着AI模型上下文窗口的扩大，未来我们可以将实时的监控日志流直接接入该提示词系统，实现真正意义上的“自动驾驶”运维。

| 层面 | 核心策略 | 关键工具/指标 | 提示词重点 |
| :---- | :---- | :---- | :---- |
| **网络** | 分层剥离 (L1-L4) | mtr, tcpdump | 区分真假丢包，识别握手异常 |
| **计算** | USE方法论 | top, vmstat | 区分利用率与饱和度，识别Steal Time |
| **存储** | 队列分析 | iostat, BurstBalance | 关联IOPS限制与队列深度 |
| **数据库** | 锁链分析 | InnoDB Status, Explain | 寻找阻塞源头，优化索引 |
| **缓存** | 流量模式识别 | Hit Rate, Expired Keys | 识别雪崩、击穿、穿透模式 |
| **应用** | 关键路径分析 | Trace, Span | 定位长耗时Span，校验数据一致性 |

这套框架是迈向AI原生运维（AI-Native Ops）的关键一步。通过精确的提示词工程，我们赋予了AI“像SRE一样思考”的能力。

#### **引用的著作**

1. Structured Troubleshooting Approaches \> Troubleshooting Methods for Cisco IP Networks, 访问时间为 十二月 3, 2025， [https://www.ciscopress.com/articles/article.asp?p=2273070\&seqNum=2](https://www.ciscopress.com/articles/article.asp?p=2273070&seqNum=2)  
2. How to Troubleshoot Networks \- NetworkLessons.com, 访问时间为 十二月 3, 2025， [https://networklessons.com/miscellaneous/troubleshoot-networks](https://networklessons.com/miscellaneous/troubleshoot-networks)  
3. IT Service Management: Automate Operations \- Google SRE, 访问时间为 十二月 3, 2025， [https://sre.google/sre-book/introduction/](https://sre.google/sre-book/introduction/)  
4. Mastering Observability in SRE: Golden Signals, RED & USE Metrics \- Medium, 访问时间为 十二月 3, 2025， [https://medium.com/@farhanramzan799/mastering-observability-in-sre-golden-signals-red-use-metrics-005656c4fe7d](https://medium.com/@farhanramzan799/mastering-observability-in-sre-golden-signals-red-use-metrics-005656c4fe7d)  
5. Troubleshooting Methodologies \- HowToNetwork, 访问时间为 十二月 3, 2025， [https://www.howtonetwork.com/technical/troubleshooting-technical/troubleshooting-methodologies/](https://www.howtonetwork.com/technical/troubleshooting-technical/troubleshooting-methodologies/)  
6. Troubleshooting Methodology: A Learning Path \- Google SRE, 访问时间为 十二月 3, 2025， [https://sre.google/sre-book/effective-troubleshooting/](https://sre.google/sre-book/effective-troubleshooting/)  
7. Network Troubleshooting Methodology and Techniques \- Study CCNA, 访问时间为 十二月 3, 2025， [https://study-ccna.com/network-troubleshooting-methodology-techniques/](https://study-ccna.com/network-troubleshooting-methodology-techniques/)  
8. Troubleshooting Methodologies \- by Antoni Ivanov \- Medium, 访问时间为 十二月 3, 2025， [https://medium.com/@antoniivanov/troubleshooting-methodologies-0ef35269ef52](https://medium.com/@antoniivanov/troubleshooting-methodologies-0ef35269ef52)  
9. What is chain of thought (CoT) prompting? \- IBM, 访问时间为 十二月 3, 2025， [https://www.ibm.com/think/topics/chain-of-thoughts](https://www.ibm.com/think/topics/chain-of-thoughts)  
10. Prompt Chaining vs Chain of Thoughts COT \- YourGPT AI, 访问时间为 十二月 3, 2025， [https://yourgpt.ai/blog/general/prompt-chaining-vs-chain-of-thoughts](https://yourgpt.ai/blog/general/prompt-chaining-vs-chain-of-thoughts)  
11. What is Tree Of Thoughts Prompting? \- IBM, 访问时间为 十二月 3, 2025， [https://www.ibm.com/think/topics/tree-of-thoughts](https://www.ibm.com/think/topics/tree-of-thoughts)  
12. Tree of Thoughts (ToT) \- Prompt Engineering Guide, 访问时间为 十二月 3, 2025， [https://www.promptingguide.ai/techniques/tot](https://www.promptingguide.ai/techniques/tot)  
13. Network Troubleshooting for DevOps Engineers: A Practical Guide | by Razeen Abdal-Rahman | Nov, 2025 | Medium, 访问时间为 十二月 3, 2025， [https://medium.com/@razeen.abdal-rahman/network-troubleshooting-for-devops-engineers-a-practical-guide-112e440c10bf](https://medium.com/@razeen.abdal-rahman/network-troubleshooting-for-devops-engineers-a-practical-guide-112e440c10bf)  
14. Decoding DevOps Success: Navigating the Seven Layers of DevOps Excellence Through the OSI Model | by David Jacobs | Medium, 访问时间为 十二月 3, 2025， [https://medium.com/@david\_jacobs/decoding-devops-success-navigating-the-seven-layers-of-devops-excellence-through-the-osi-model-962b8b221ac2](https://medium.com/@david_jacobs/decoding-devops-success-navigating-the-seven-layers-of-devops-excellence-through-the-osi-model-962b8b221ac2)  
15. Advanced Linux Network Troubleshooting Guide: An OSI Model Approach | by Ebo Jackson, 访问时间为 十二月 3, 2025， [https://levelup.gitconnected.com/advanced-linux-network-troubleshooting-guide-an-osi-model-approach-24bf7e2d3ee0](https://levelup.gitconnected.com/advanced-linux-network-troubleshooting-guide-an-osi-model-approach-24bf7e2d3ee0)  
16. How to use mtr to diagnose packet loss problem with a TCP port \- Salesforce Help, 访问时间为 十二月 3, 2025， [https://help.salesforce.com/s/articleView?id=001114985\&language=en\_US\&type=1](https://help.salesforce.com/s/articleView?id=001114985&language=en_US&type=1)  
17. Diagnosing packet loss and latency with MTR | AWS re:Post, 访问时间为 十二月 3, 2025， [https://repost.aws/articles/ARYuHnu150R9ahMl-2hNNEVw/diagnosing-packet-loss-and-latency-with-mtr](https://repost.aws/articles/ARYuHnu150R9ahMl-2hNNEVw/diagnosing-packet-loss-and-latency-with-mtr)  
18. Troubleshoot your network with tcpdump \- Red Hat, 访问时间为 十二月 3, 2025， [https://www.redhat.com/en/blog/troubleshoot-tcpdump](https://www.redhat.com/en/blog/troubleshoot-tcpdump)  
19. How do I troubleshoot packet loss on my AWS VPN connection?, 访问时间为 十二月 3, 2025， [https://repost.aws/knowledge-center/vpn-packet-loss](https://repost.aws/knowledge-center/vpn-packet-loss)  
20. Elastic Compute Service:Use packet capture tools to capture network packets \- Alibaba Cloud, 访问时间为 十二月 3, 2025， [https://www.alibabacloud.com/help/en/ecs/user-guide/how-to-grab-data-packets-when-the-network-is-abnormal](https://www.alibabacloud.com/help/en/ecs/user-guide/how-to-grab-data-packets-when-the-network-is-abnormal)  
21. Metrics at a Glance for Production Clusters \- InfraCloud, 访问时间为 十二月 3, 2025， [https://www.infracloud.io/blogs/metrics-at-glance-for-production-clusters/](https://www.infracloud.io/blogs/metrics-at-glance-for-production-clusters/)  
22. How do I troubleshoot high CPU utilization on an EC2 Linux instance? \- AWS re:Post, 访问时间为 十二月 3, 2025， [https://repost.aws/knowledge-center/ec2-troubleshoot-cpu-utilization](https://repost.aws/knowledge-center/ec2-troubleshoot-cpu-utilization)  
23. How can I diagnose and fix frequent 100% cpu utilization from kernel? \- Server Fault, 访问时间为 十二月 3, 2025， [https://serverfault.com/questions/501026/how-can-i-diagnose-and-fix-frequent-100-cpu-utilization-from-kernel](https://serverfault.com/questions/501026/how-can-i-diagnose-and-fix-frequent-100-cpu-utilization-from-kernel)  
24. Debug disk performance with iostat and iotop \- Webdock, 访问时间为 十二月 3, 2025， [https://webdock.io/en/docs/mastering-web-fundamentals/server-fundamentals/debug-disk-performance-iostat-and-iotop](https://webdock.io/en/docs/mastering-web-fundamentals/server-fundamentals/debug-disk-performance-iostat-and-iotop)  
25. Debugging disk I/O on Linux servers \- IBM, 访问时间为 十二月 3, 2025， [https://www.ibm.com/docs/en/ioc/5.2.0?topic=resources-debugging-disk-io-linux-servers](https://www.ibm.com/docs/en/ioc/5.2.0?topic=resources-debugging-disk-io-linux-servers)  
26. Troubleshooting Tip: How high CPU usage should be investigated \- the Fortinet Community\!, 访问时间为 十二月 3, 2025， [https://community.fortinet.com/t5/FortiGate/Troubleshooting-Tip-How-high-CPU-usage-should-be-investigated/ta-p/320048](https://community.fortinet.com/t5/FortiGate/Troubleshooting-Tip-How-high-CPU-usage-should-be-investigated/ta-p/320048)  
27. IOPS vs Throughput: What's the Difference in Storage Performance? \- StarWind, 访问时间为 十二月 3, 2025， [https://www.starwindsoftware.com/blog/iops-vs-throughput/](https://www.starwindsoftware.com/blog/iops-vs-throughput/)  
28. IOPS vs Throughput vs Latency \- Storage Performance Metrics \- simplyblock, 访问时间为 十二月 3, 2025， [https://www.simplyblock.io/blog/iops-throughput-latency-explained/](https://www.simplyblock.io/blog/iops-throughput-latency-explained/)  
29. Amazon EBS FAQs \- Amazon Web Services, 访问时间为 十二月 3, 2025， [https://aws.amazon.com/ebs/faqs/](https://aws.amazon.com/ebs/faqs/)  
30. Amazon EBS latency: understanding, measuring, and fixing slow storage performance, 访问时间为 十二月 3, 2025， [https://hykell.com/kb/cloud-performance/amazon-ebs-latency/](https://hykell.com/kb/cloud-performance/amazon-ebs-latency/)  
31. Troubleshoot latency of EBS volumes in your RDS instance \- AWS re:Post, 访问时间为 十二月 3, 2025， [https://repost.aws/knowledge-center/rds-latency-ebs-iops-bottleneck](https://repost.aws/knowledge-center/rds-latency-ebs-iops-bottleneck)  
32. AWS EBS Burst Balance | Blue Matador \- Troubleshooting, 访问时间为 十二月 3, 2025， [https://www.bluematador.com/docs/troubleshooting/ebs-volume-burst-balance](https://www.bluematador.com/docs/troubleshooting/ebs-volume-burst-balance)  
33. Maximizing EBS Performance: Tips, Best Practices, and Optimization Strategies \- Lucidity, 访问时间为 十二月 3, 2025， [https://www.lucidity.cloud/blog/ebs-performance](https://www.lucidity.cloud/blog/ebs-performance)  
34. Locks: How to Diagnose and Resolve Deadlocks in SQL Server \- dbsnOOp, 访问时间为 十二月 3, 2025， [https://dbsnoop.com/how-to-diagnose-resolve-deadlocks-sql-server/](https://dbsnoop.com/how-to-diagnose-resolve-deadlocks-sql-server/)  
35. Understand and resolve SQL Server blocking problems \- Microsoft Learn, 访问时间为 十二月 3, 2025， [https://learn.microsoft.com/en-us/troubleshoot/sql/database-engine/performance/understand-resolve-blocking](https://learn.microsoft.com/en-us/troubleshoot/sql/database-engine/performance/understand-resolve-blocking)  
36. Slow SQL? Diagnose & Fix Bottlenecks Fast\! \- DEV Community, 访问时间为 十二月 3, 2025， [https://dev.to/chat2db/slow-sql-diagnose-fix-bottlenecks-fast-4l70](https://dev.to/chat2db/slow-sql-diagnose-fix-bottlenecks-fast-4l70)  
37. Troubleshoot entire SQL Server or database application that appears to be slow, 访问时间为 十二月 3, 2025， [https://learn.microsoft.com/en-us/troubleshoot/sql/database-engine/performance/troubleshoot-entire-sqlserver-slow](https://learn.microsoft.com/en-us/troubleshoot/sql/database-engine/performance/troubleshoot-entire-sqlserver-slow)  
38. How to solve the cache avalanche problem of the database after recovery? \- Tencent Cloud, 访问时间为 十二月 3, 2025， [https://www.tencentcloud.com/techpedia/130456](https://www.tencentcloud.com/techpedia/130456)  
39. Kafka Rebalancing. Duplicate processing issue \- Codemia, 访问时间为 十二月 3, 2025， [https://codemia.io/knowledge-hub/path/kafka\_rebalancing\_duplicate\_processing\_issue](https://codemia.io/knowledge-hub/path/kafka_rebalancing_duplicate_processing_issue)  
40. Why is the kafka consumer consuming the same message hundreds of times?, 访问时间为 十二月 3, 2025， [https://stackoverflow.com/questions/51736582/why-is-the-kafka-consumer-consuming-the-same-message-hundreds-of-times](https://stackoverflow.com/questions/51736582/why-is-the-kafka-consumer-consuming-the-same-message-hundreds-of-times)  
41. Distributed Tracing in Microservices \- GeeksforGeeks, 访问时间为 十二月 3, 2025， [https://www.geeksforgeeks.org/system-design/distributed-tracing-in-microservices/](https://www.geeksforgeeks.org/system-design/distributed-tracing-in-microservices/)  
42. Distributed Tracing: A Deep Technical Guide for Modern Microservices | by Rachoork, 访问时间为 十二月 3, 2025， [https://medium.com/@rachoork/distributed-tracing-a-deep-technical-guide-for-modern-microservices-f1fc9eeecce7](https://medium.com/@rachoork/distributed-tracing-a-deep-technical-guide-for-modern-microservices-f1fc9eeecce7)  
43. Analyze the root causes and business impact of production issues with Trace Queries, 访问时间为 十二月 3, 2025， [https://www.datadoghq.com/blog/trace-queries/](https://www.datadoghq.com/blog/trace-queries/)  
44. ETL Troubleshooting Guide \- InterProse ACE, 访问时间为 十二月 3, 2025， [https://docs.interprose.com/docs/etl-troubleshooting-guide](https://docs.interprose.com/docs/etl-troubleshooting-guide)  
45. All About ETL Testing: Checklist, Tools, And 4 Useful SQL Queries \- Monte Carlo, 访问时间为 十二月 3, 2025， [https://www.montecarlodata.com/blog-all-about-etl-testing-checklist/](https://www.montecarlodata.com/blog-all-about-etl-testing-checklist/)  
46. Common Data Consistency Issues in ETL \- BizBot, 访问时间为 十二月 3, 2025， [https://www.bizbot.com/blog/common-data-consistency-issues-in-etl/](https://www.bizbot.com/blog/common-data-consistency-issues-in-etl/)